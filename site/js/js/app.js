$(document).ready(function(){function s(s,t){$.each(o.slice(s,t),function(t,e){$.getJSON("https://hacker-news.firebaseio.com/v0/item/"+e+".json?print=pretty",function(t){var e=new Date(t.time);$("#articles").append("<article><div class='info'><h2><a href="+t.url+" target='_blank'>"+t.title+"</a></h2><div class='detail'><h4>"+t.score+" points</h4><h4>"+t.by+"</h4><h4>"+t.type+"</h4><h4>"+t.descendants+" comments</h4><h4>"+moment.unix(e).fromNow()+"</h4></div></div><div class='buttons'><button class='share'><span class='icon-share'></span></button><a href='https://www.facebook.com/sharer/sharer.php?u="+t.url+"' target='_blank' class='js-social-share'><span class='icon-facebook-official'></span></a><a href='https://twitter.com/intent/tweet?url="+t.url+"&amp;text="+t.title+"&nbsp;|&nbsp;Minimal Hacker News&amp;via=CristhGunners&amp;' target='_blank' class='js-social-share'><span class='icon-twitter'></span></a></div></article>").promise().done(function(){$(this).children().length===s+25&&(o.length>n&&i.addClass("on"),r.addClass("off"))})})})}if("Top"===type_stories){var t="https://hacker-news.firebaseio.com/v0/topstories.json",e=new Date,a=moment(e).format("DD of MMMM, YYYY");$(".list h3#date span.datenow").html(a)}else if("Best"===type_stories)var t="https://hacker-news.firebaseio.com/v0/beststories.json";var n=25,o=[],i=$("button#more"),r=$(".loading");$.ajaxSetup({beforeSend:function(){r.removeClass("off"),i.removeClass("on")}}),$.getJSON(t,function(t){o=t,s(0,n),o.length>n&&i.on("click",function(){s(n,n+25),n+=25})}),$("section.list").on("click","button.share",function(){$(this).addClass("off"),$(this).siblings("a").addClass("on")})});